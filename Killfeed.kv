#:import sla kivy.adapters.simplelistadapter
#:import label kivy.uix.label
#:import ListItemLabel kivy.uix.listview.ListItemLabel
#:import DictAdapter kivy.adapters.dictadapter.DictAdapter
#:import ListAdapter kivy.adapters.listadapter.ListAdapter
#:import BoxLayout kivy.uix.boxlayout.BoxLayout
#:import Factory kivy.factory.Factory
#:import WindowBase kivy.core.window

<KillfeedApp>:
		orientation:'vertical'
		padding: 10
		spacing: 10
		BoxLayout:
				orientation:'horizontal'
				size_hint_y:None
				height: 30
				spacing: 10
				Label:
						text:'Digite'
				TextInput:
						id:entrada_nome
						size_hint_x: None
						width: 500
						multiline:False
						on_text_validate:root.buscar_banco()
				Button:
						text:'Pesquisar'
						on_release: root.buscar_banco()
		BoxLayout:
				orientation:'horizontal'
				size_hint_y:None
				height: 30
				Label:
						text: 'Data e Hora'
						font_size: 20
				Label:
						text: 'Morreu'
						font_size: 20
				Label:
						text: 'Assassino'
						font_size: 20
				Label:
						text: 'Arma'
						font_size: 20
				ListView:
						adapter:
								ListAdapter(data=root.lista_final, args_converter=root.list_args_converter, template='Dados_evento')

[Dados_evento@BoxLayout]:
		size_hint_y:ctx.size_hint_y
		height:ctx.height
		Label:
				id: 'label_datahora'
				text:ctx.datahora
		ListItemButton:
				id: 'botao_morto'
				background_color: 0,1,1,0
				text:ctx.morto
				on_press: app.abrir_janela()
				on_release: app.fechar_janela()
		ListItemButton:
				id: 'botao_assassino'
				background_color: 0,1,1,0
				text:ctx.assa
				on_press: app.abrir_janela()
				on_release: app.fechar_janela()
		ListItemButton:
				id: 'botao_arma'
				background_color: 0,1,1,0
				text:ctx.arma
				on_press: app.abrir_janela()
				on_release: app.fechar_janela()
